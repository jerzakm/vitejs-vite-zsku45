import { useLoader, useThrelte } from '@threlte/core';
import { TextureLoader } from 'three';
export const useTexture = (input, options) => {
    const loader = useLoader(TextureLoader, options);
    const { renderer } = useThrelte();
    return loader.load(input, {
        ...options,
        transform: (res) => {
            if ('colorSpace' in res) {
                // >= r152
                res.colorSpace = renderer.outputColorSpace;
            }
            else {
                // < r152
                ;
                res.encoding = renderer.outputEncoding;
            }
            res.needsUpdate = true;
            return options?.transform?.(res) ?? res;
        }
    });
};
